# Arimaa Algorithm Exploration

> A project comparing different algorithms using Arimaa

This will eventually contain many different bots that use different algorithms, but for now there's only a few bots and one algorithm. Here's the list:

- `HumanPlayer` is a way for you to play against a bot yourself. It will prompt you for your move when it's your turn.
- `RandomPlayer` is a very simple bot that makes completely random moves.
- `MCTSPlayer` is the only algorithm that I've implemented so far, it uses the Monte-Carlo Tree Search algorithm.

## Best Initial

The MCTS bot starts with the best initial setup by total wins from existing games. This is contained in the file `best_inital.txt`, which is generated by `read_gamedata.py`. If you want to make it anew, here are the steps:

1. Run `python download_gamedata.py`. This will download all the game files from the arimaa website and turn them into one massive file called `allgames.txt`. Warning: It will take a while and use a lot of RAM.
2. Run `python read_gamedata.py find_best_initial`. This will read the `allgames.txt` file and find the best initial setup and write it to `best_initial.txt`. Warning: It will take a while.

## Arguments

Every most of the bots take arguments, which generally determine how successful they are, at the cost of taking longer.

The MCTS bot takes two arguments: 1) the allowed time to calculate each step and 2) the number of times to simulate each node to determine it's winrate. Increase them both to increase the difficulty. However, do note that since there are up to four steps in a move each turn will actually take 4 times longer than the allowed time, as well as some extra for the game logic.

## Examples

To pit a random bot (gold) against a MCTS bot (silver) that takes 1 second to choose a move based on 10 simulations per node: `python game.py RandomPlayer MCTSPlayer 1 10`

To pit yourself (gold) against a random bot (silver): `python game.py HumanPlayer RandomPlayer`

To start a 5 round tournament of 5 random bots: `python 5 tournament.py RandomPlayer RandomPlayer RandomPlayer RandomPlayer RandomPlayer`

To start a 10 round tournament of random bot, a MCTS bot with 1 second based on 1 simulation per node, a MCTS bot with 1 second based on 10 simulations per node, a MCTS bot with 10 seconds based on 1 simulation per node, and a MCTS bot with 10 seconds based on 10 simulations per node: `python tournament.py 10 RandomPlayer MCTSPlayer 1 1 MCTSPlayer 10 1 MCTSPlayer 10 10`

## Files

- `best_initial.txt` contains the best initial moves for gold and silver, calculated by `read_gamedata.py`
- `board.py` contains an implementation of Arimaa
- `download_gamedata.py` downloads all the game data from the Arimaa website and merges it into a giant table called `allgames.txt`
- `game.py` contains the base player class and a simple class that plays a game between two players until one wins
- `HumanPlayer.py` contains a player that asks the user for the moves
- `MCTSPlayer.py` contains a Monte-Carlo Tree Search bot, which is the main product of the project
- `RandomPlayer.py` contains a player that makes random moves
- `read_gamedata.py` contains a script to determine the best initial setups by total wins
- `README.md` is the document you are reading
- `tournament.py` contains a class that runs a round-robin tournament between an arbitrary number of players

## Sources

- The [Arimaa Game Rules](http://arimaa.com/arimaa/learn/rules.pdf)
- The [Arimaa Notation Explainer](http://arimaa.com/arimaa/learn/notation.html)
- The [Wikipedia page for Monte-Carlo Tree Search](https://en.wikipedia.org/wiki/Monte_Carlo_tree_search) was surprisingly informative
- [wlongxiang/mcts](https://github.com/wlongxiang/mcts/blob/main/monte_carlo_tree_search.py) is an excellent example of how to implement MCTS in python
- A whole bunch of documentation pages for python, pandas, etc.
